(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(61)},40:function(e,t,a){},45:function(e,t){},47:function(e,t){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(30),i=a.n(o),l=(a(40),a(11)),c=a(12),s=a(14),u=a(13),m=a(15),d=a(31),p=a.n(d),f=a(34),h=a(33),g={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"50px",borderWidth:2,borderRadius:18,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},y={borderColor:"#2196f3"},b={borderColor:"#00e676"},v={borderColor:"#ff1744"},k=function(e){var t=Object(n.useCallback)(function(t){var a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(){var n=a.result;e.onFileParse(n,t[0].name)},t.forEach(function(e){return a.readAsBinaryString(e)})},[]),a=Object(h.a)({multiple:!1,onDrop:t}),o=a.getRootProps,i=a.getInputProps,l=a.isDragActive,c=a.isDragAccept,s=a.isDragReject,u=Object(n.useMemo)(function(){return Object(f.a)({},g,l?y:{},c?b:{},s?v:{})},[l,s]);return r.a.createElement("section",{className:"container"},r.a.createElement("div",o({className:"dropzone",style:u}),r.a.createElement("input",i()),r.a.createElement("p",null,"Drag and drop an aip file here, or click to select one")))},w=a(2),x=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.data,t=Object.keys(e.ramp.colors).map(function(t){return{name:t,values:e.ramp.colors[t].point.map(function(e){return{intensity:parseInt(e.intensity._text),time:parseInt(e.time._text)}})}});if(e){w.g(".chart").select("svg").remove();var a={top:50,right:50,bottom:100,left:50},n=960-a.left-a.right,r=500-a.top-a.bottom,o=[0,240,480,720,960,1200,1440],i=w.f().domain([0,1439]).range([0,n]),l=w.f().domain([0,1500]).range([r,0]),c=w.d().x(function(e){return i(parseInt(e.time))}).y(function(e){return l(parseInt(e.intensity))}).curve(w.c),s=w.g(".chart").append("svg").attr("width",n+a.left+a.right).attr("height",r+a.top+a.bottom).append("g").attr("transform","translate("+a.left+","+a.top+")");s.append("g").attr("class","x axis").attr("transform","translate(0,"+r+")").call(w.a(i).tickValues(o).tickSize(0).tickFormat(function(e){return 0===e||1440===e?"12AM":720===e?"12AM":e>720?"".concat((e-720)/60,"PM"):"".concat(e/60,"AM")})).selectAll("text").attr("dy","1.5em"),s.append("g").attr("class","grid").attr("transform","translate(0,"+r+")").call(w.a(i).tickValues(o).tickSize(-r).tickFormat("")).call(function(e){return e.select(".domain").remove()}),s.append("g").attr("class","grid").call(w.b(l).tickValues([0,500,1e3,1500,2e3]).tickSize(-n).tickFormat("")).call(function(e){return e.select(".domain").remove()}),t.forEach(function(e){s.append("path").datum(e.values).attr("class","line ".concat(e.name)).attr("d",c)});var u=t[0].values.map(function(e){return e.time});s.selectAll(".dot").data(u).enter().append("circle").attr("class","dot").attr("cx",function(e){return i(e)}).attr("cy",r+20).attr("r",5),s.append("path").attr("class","mouse-line").style("stroke","black").style("stroke-width","1px").style("opacity","0"),s.append("rect").attr("width",n).attr("height",r).attr("fill","none").attr("pointer-events","all").on("mouseout",function(){w.g(".mouse-line").style("opacity","0"),w.h(".mouse-per-line circle").style("opacity","0"),w.h(".mouse-per-line text").style("opacity","0")}).on("mouseover",function(){w.g(".mouse-line").style("opacity","1"),w.h(".mouse-per-line circle").style("opacity","1"),w.h(".mouse-per-line text").style("opacity","1")}).on("mousemove",function(){var e=w.e(this);w.g(".mouse-line").attr("d",function(){var t="M"+e[0]+","+r;return t+=" "+e[0]+",0"});var t=document.getElementsByClassName("line");w.h(".mouse-per-line").attr("transform",function(a,n){for(var r,o=0,i=t[n].getTotalLength(),c=null;c=Math.floor((o+i)/2),r=t[n].getPointAtLength(c),c!==i&&c!==o||r.x===e[0];)if(r.x>e[0])i=c;else{if(!(r.x<e[0]))break;o=c}return w.g(this).select("text").text(l.invert(r.y).toFixed(2)),"translate("+e[0]+","+r.y+")"})}),s.selectAll(".mouse-per-line").data(t).enter().append("g").attr("class","mouse-per-line").append("circle").attr("r",7).attr("class",function(e){return e.name}).style("fill","none").style("stroke-width","1px").style("opacity","0")}}},{key:"render",value:function(){var e=this.props.filename;return r.a.createElement("div",{className:"chart-container"},r.a.createElement("h2",null,e),r.a.createElement("div",{className:"chart"}))}}]),t}(r.a.Component),E=(a(60),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={json:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;new URLSearchParams(window.location.search).get("dev")&&fetch("data/ai-signature-saxby.aip").then(function(e){return e.text()}).then(function(t){e.handleParsedFile(t,"ai-signature-saxby.aip")})}},{key:"handleParsedFile",value:function(e,t){var a=p.a.xml2js(e,{compact:!0});this.setState({json:a,filename:t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.json,n=t.filename;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"AI Hydra Schedule Viewer")),r.a.createElement("div",{className:"content"},a?r.a.createElement(x,{filename:n,data:a}):r.a.createElement(k,{onFileParse:function(t,a){return e.handleParsedFile(t,a)}})),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Maintained by ",r.a.createElement("a",{href:"https://twitter.com/chris_whong"},"Chris Whong"),". Let me know if you have feature requests or find bugs, either by @-ing me on twitter, or by ",r.a.createElement("a",{href:"https://github.com/chriswhong/ai-hydra-viewer/issues"},"opening a github issue"),". "),r.a.createElement("p",null,"Check the the AI Prime/Hydra Reef Group on Facebook for some discussion about this prototype and a potential reef light settings sharing platform I'd like to build")))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.0df8ba00.chunk.js.map